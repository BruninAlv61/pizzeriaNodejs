{{#contentFor "styles"}}
  <link rel="stylesheet" href="/css/combo-offers.css">
{{/contentFor}}

<main class="comboOffersMain">
    <h1>Combo Offers</h1>
    <a href="/combo-offers/add" class="comboOffersMain-add">Add Combo Offer +</a>
    {{#if comboOffers}}
        {{#each comboOffers}}
            <div class="comboOffersMain-offerCombo">
                <h4 class="comboOffersMain-offerCombo-cell">{{comboOfferName}}</h4>
                <div class="comboOffersMain-offerCombo-buttons comboOffersMain-offerCombo-cell">
                    <a href="/combo-offers/edit/{{_id}}"><img src="/assets/pen.png" alt="Edit icon"></a>
                    <button onclick="deleteComboOffer('{{_id}}')">
                        <img src="/assets/bin.png" alt="Delete icon">
                    </button>
                </div>
            </div>
        {{/each}}
    {{else}}
        <h2>No combo offers available</h2>
    {{/if}}
</main>

<script>
    async function deleteComboOffer(id) {
        const confirmDelete = confirm("Are you sure you want to delete this combo offer?");
        if (confirmDelete) {
            await fetch(`/combo-offers/${id}`, { method: 'DELETE' });
            location.reload(); // Reload page to reflect changes
        }
    }
</script>
